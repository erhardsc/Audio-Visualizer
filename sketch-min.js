function toggleSong(){song.isPlaying()?song.pause():song.play()}function preload(){song=loadSound("Atmosphere-Sunshine.mp3")}function setup(){var e=createCanvas(window.innerWidth,window.innerHeight);e.parent("visualizer"),ctx=e.drawingContext,fft=new p5.FFT,fft.smooth(.95);var t=color("rgba(11, 10, 10, .65)"),i=color("rgba(142, 137, 137, .65)"),h=color("rgb(106, 63, 190)");wave=new CurveWave(h,4),wave2=new CurveWave(i,3),wave3=new CurveWave(t,2),button=createButton("toggle"),button.mousePressed(toggleSong),song.play()}function windowResized(){resizeCanvas(window.innerWidth,window.innerHeight)}function amplitude(){for(var e=fft.analyze(),t=0;t<e.length;t++){return[map(e[t],0,256,.15*width,.2*width),map(e[t],0,256,.45*height,.25*height),map(e[t],0,256,.35*width,.4*width),map(e[t],0,256,.85*height,.9*height),map(e[t],0,256,.55*width,.63*width),map(e[t],0,256,.75*height,.55*height),map(e[t],0,256,.8*width,.75*width),map(e[t],0,256,.8*height,.85*height),map(e[t],0,256,.92*width,.98*width),map(e[t],0,256,.58*height,.38*height)]}}function draw(){background("rgb(22,25,37)");var e=frameRate();fill(255),stroke(0),text("FPS: "+e.toFixed(2),10,50);var t=color("rgba(11, 10, 10, .65)"),i=color("rgba(142, 137, 137, .65)"),h=color("rgb(106, 63, 190)");noStroke(),fill(h),beginShape(),vertex(10,.98*height),vertex(10,.8*height),bezierVertex(amplitude()[0],amplitude()[1]-100,.25*width,.85*height,amplitude()[2],amplitude()[3]),bezierVertex(.55*width,.86*height,amplitude()[4],amplitude()[5]-200,amplitude()[6],amplitude()[7]),bezierVertex(.86*width,amplitude()[6],amplitude()[8]-100,amplitude()[9]-200,.98*width,.7*height),vertex(.98*width,.98*height),endShape(),fill(i),beginShape(),vertex(10,.98*height),vertex(10,.8*height),bezierVertex(amplitude()[0],amplitude()[1]-150,.25*width,.85*height,amplitude()[2],amplitude()[3]),bezierVertex(.55*width,.86*height,amplitude()[4],amplitude()[5]-100,amplitude()[6],amplitude()[7]),bezierVertex(.86*width,amplitude()[6],amplitude()[8],amplitude()[9]-100,.98*width,.7*height),vertex(.98*width,.98*height),endShape(),fill(t),beginShape(),vertex(10,.98*height),vertex(10,.8*height),bezierVertex(amplitude()[0],amplitude()[1],.25*width,.85*height,amplitude()[2],amplitude()[3]),bezierVertex(.55*width,.86*height,amplitude()[4],amplitude()[5],amplitude()[6],amplitude()[7]),bezierVertex(.86*width,amplitude()[6],amplitude()[8],amplitude()[9],.98*width,.7*height),vertex(.98*width,.98*height),endShape()}p5.disableFriendlyErrors=!0;var song,fft,button,radius,ctx,wave,wave2,wave3;