function toggleSong(){song.isPlaying()?song.pause():song.play()}function preload(){song=loadSound("Atmosphere-Sunshine.mp3")}function setup(){var e=createCanvas(window.innerWidth,window.innerHeight);e.parent("visualizer"),ctx=e.drawingContext,fft=new p5.FFT,fft.smooth(.95);var t=color("rgba(11, 10, 10, .65)"),i=color("rgba(142, 137, 137, .65)"),r=color("rgb(106, 63, 190)");wave=new CurveWave(r,4),wave2=new CurveWave(i,3),wave3=new CurveWave(t,2),button=createButton("toggle"),button.mousePressed(toggleSong),song.play()}function windowResized(){resizeCanvas(window.innerWidth,window.innerHeight)}function amplitude(){for(var e=fft.analyze(),t=0;t<e.length;t++){return map(e[t],0,256,600,0)}}function draw(){background(50,0,150);var e=frameRate();fill(0),stroke(0),text("FPS: "+e.toFixed(2),10,50);var t=mouseX-width/2,i=mouseY-height/2,r=ctx.createRadialGradient(0,0,50,t,i,0);r.addColorStop(0,"black"),r.addColorStop(1,"white"),ctx.fillStyle=r,strokeWeight(4),strokeWeight(1),beginShape(),vertex(10,.98*height),vertex(10,.8*height),bezierVertex(.05*width,.6*height,.1*width,amplitude(),.14*width,amplitude()),bezierVertex(.2*width,amplitude(),.2*width,.88*height,.3*width,.94*height),bezierVertex(.4*width,.95*height,.4*width,amplitude(),.55*width,1.5*amplitude()),bezierVertex(.62*width,1.5*amplitude(),.62*width,.95*height,.8*width,.89*height),bezierVertex(.95*width,.78*height,.8*width,amplitude(),.93*width,amplitude()),bezierVertex(.97*width,amplitude(),.96*width,.67*height,.98*width,.7*height),vertex(.98*width,.98*height),endShape()}p5.disableFriendlyErrors=!0;var song,fft,button,radius,ctx,wave,wave2,wave3;